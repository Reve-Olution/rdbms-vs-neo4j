--Création des tables    
CREATE TABLE EMPLOYES (
    ID INTEGER(10) AUTO_INCREMENT,
    NOM VARCHAR(100),
    PRENOM VARCHAR(100),
    ANNEENAISSANCE INTEGER(4),
    PRIMARY KEY(ID)
);

CREATE TABLE GROUPES (
    ID INTEGER(10) AUTO_INCREMENT PRIMARY KEY,
    NOM VARCHAR(100)
);

CREATE TABLE EMPLOYES_GROUPES (
    ID INTEGER(10) AUTO_INCREMENT PRIMARY KEY,
    IDGROUPE INTEGER(10),
    IDEMPLOYE INTEGER(10)
);

CREATE TABLE COMPETENCES (
    ID INTEGER(10) AUTO_INCREMENT PRIMARY KEY,
    NOM VARCHAR(100)
);

CREATE TABLE EMPLOYES_COMPETENCES (
    ID INTEGER(10) AUTO_INCREMENT PRIMARY KEY,
    IDEMPLOYE INTEGER(10),
    IDCOMPETENCE INTEGER(10),
    NOTE INTEGER(10)
);

CREATE TABLE PROJETS (
    ID INTEGER(10) AUTO_INCREMENT PRIMARY KEY,
    NOM VARCHAR(100)
);

CREATE TABLE EMPLOYES_PROJETS (
    ID INTEGER(10) AUTO_INCREMENT PRIMARY KEY,
    IDEMPLOYE INTEGER(10),
    IDPROJET INTEGER(10)   
);

-- Création des contraintes
ALTER TABLE EMPLOYES_GROUPES ADD CONSTRAINT FK_GROUPES_EMPLOYES FOREIGN KEY (IDGROUPE) REFERENCES GROUPES(ID);
ALTER TABLE EMPLOYES_GROUPES ADD CONSTRAINT FK_GROUPES_EMPLOYES1 FOREIGN KEY (IDEMPLOYE) REFERENCES EMPLOYES(ID);

ALTER TABLE EMPLOYES_COMPETENCES ADD CONSTRAINT FOREIGN KEY (IDEMPLOYE) REFERENCES EMPLOYES(ID);
ALTER TABLE EMPLOYES_COMPETENCES ADD CONSTRAINT FOREIGN KEY (IDCOMPETENCE) REFERENCES COMPETENCES(ID);

ALTER TABLE EMPLOYES_PROJETS ADD CONSTRAINT FOREIGN KEY (IDEMPLOYE) REFERENCES EMPLOYES(ID);
ALTER TABLE EMPLOYES_PROJETS ADD CONSTRAINT FOREIGN KEY (IDPROJET) REFERENCES PROJETS(ID);